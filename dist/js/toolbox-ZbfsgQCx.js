import{U as f}from"./UrlBuilder-DtWhPO4P.js";jQuery(function(){var n=jQuery("body"),u,b=jQuery("<div />").addClass("toolbox-overlay").appendTo(n);b.bind("click",function(){n.trigger("toolboxcloseall")}),n.bind("toolboxinit",function(d){var g=jQuery(d.target);d.stopPropagation();var r;g.is(".toolbox")?r=g:r=g.find(".toolbox"),!(r.length<1)&&(r.bind("toolboxopen",function(){var o=jQuery(this);if(n.trigger("toolboxcloseall"),u&&u.abort(),o.data("url")){var t=new f(o.data("url")).add({ajax:1}).getUrl();u=jQuery.ajax({url:t,type:"get",success:function(e){o.trigger("toolboxbuild",e)}})}else o.trigger("toolboxbuild")}),r.bind("toolboxbuild",function(o,t){var e=jQuery(this),i=e.data("toolbox-menu"),l=e.find(".toolbox-items ul");e.attr("data-toolbox-open",!0),i.appendTo(n),e.trigger("toolboxposition"),b.show(),i.show(),t!==void 0&&l.html(t),l.trigger("contentloaded")}),r.bind("toolboxclose",function(){var o=jQuery(this),t=o.data("toolbox-menu");t.hide().appendTo(o),b.hide(),o.removeAttr("data-toolbox-open")}),r.bind("toolboxtoggle",function(){var o=jQuery(this),t=o.attr("data-toolbox-open")?"toolboxclose":"toolboxopen";o.trigger(t)}),r.bind("toolboxposition",function(){var o=jQuery(this);if(o.attr("data-toolbox-open")){var t=o.data("toolbox-menu"),e=o.find(".trigger"),i=e.offset(),l=i.left+e.outerWidth()/2,a=t.outerWidth(),x=jQuery(document).width()-l-a-50>0,s=t.children("i").first();x?(t.css({left:l-23,top:i.top+e.outerHeight()}),s.css({left:18})):(t.css({left:l-a+20,top:i.top+e.outerHeight()}),s.css({left:a-24}))}}),r.find(".trigger").click(function(){jQuery(this).closest(".toolbox").trigger("toolboxtoggle")}),r.find(".toolbox-items ul").on("contentloaded",function(o){var t=jQuery(o.target),e=t.data("toolbox"),i=e.find(".trigger"),l=t.find("li"),a=l.find(".button");a.click(function(){e.trigger("toolboxclose")}),a.on("loadingstart",function(){i.trigger("loadingstart")}),a.on("loadingend",function(){i.trigger("loadingend")})}),r.each(function(){var o=jQuery(this),t=o.find("menu").first();o.data("toolbox-menu",t);var e=o.find(".toolbox-items ul");e.data("toolbox",o),o.addClass("initialized")}))}),jQuery(window).bind("resize",function(){jQuery(".toolbox[data-toolbox-open]").trigger("toolboxposition")}),n.bind("toolboxcloseall",function(){n.find(".toolbox[data-toolbox-open]").trigger("toolboxclose")}),n.on("contentloaded",function(d){jQuery(d.target).trigger("toolboxinit")})});
